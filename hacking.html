

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Toyplot for Hackers &mdash; Toyplot 0.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/toyplot.css" type="text/css" />
  

  
    <link rel="top" title="Toyplot 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="The Toyplot Reference" href="reference.html"/>
        <link rel="prev" title="The Toyplot Tutorial" href="tutorial.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Toyplot</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installing Toyplot</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#using-your-os-package-manager">Using Your OS Package Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#using-pip-easy-install">Using Pip / Easy Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#from-source">From Source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">The Toyplot Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#styles">Styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#plotting">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#palettes">Palettes</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#filled-regions">Filled Regions</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#barplots">Barplots</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#scatterplots">Scatterplots</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#markers">Markers</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#rendering">Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#axes">Axes</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#animation">Animation</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Toyplot for Hackers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-walkthrough">Code Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-regression-tests">Running Regression Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modifying-regression-tests">Modifying Regression Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-coverage">Test Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-documentation">Building the Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">The Toyplot Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="toyplot.html">toyplot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toyplot.color.html">toyplot.color module</a></li>
<li class="toctree-l2"><a class="reference internal" href="toyplot.color.css.html">toyplot.color.css module</a></li>
<li class="toctree-l2"><a class="reference internal" href="backends.html">Toyplot Backends</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Toyplot</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Toyplot for Hackers</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/hacking.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <a class="logo-important reference internal image-reference" href="_images/toyplot.png"><img alt="_images/toyplot.png" class="logo-important align-right" src="_images/toyplot.png" style="width: 200px;" /></a>
<div class="section" id="toyplot-for-hackers">
<h1>Toyplot for Hackers<a class="headerlink" href="#toyplot-for-hackers" title="Permalink to this headline">¶</a></h1>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p><strong>The Toyplot Sources Aren&#8217;t Available Yet</strong></p>
<p>This is embarassing, but we&#8217;re still waiting for our lawyer-gnomes to
finalize the copyright on Toyplot&#8217;s source code.  Toyplot will be released
under a BSD-style license as soon as that happens, but in the meantime,
the following instructions won&#8217;t work ... apologies!</p>
<p class="last">Contact Timothy M. Shead &lt;<a class="reference external" href="mailto:tshead&#37;&#52;&#48;sandia&#46;gov">tshead<span>&#64;</span>sandia<span>&#46;</span>gov</a>&gt; if you have questions or
would like to be notified when Toyplot is released.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>First, if you haven&#8217;t already, you&#8217;ll need to install Toyplot from source,
including its hard dependencies:</p>
<ul class="simple">
<li>Python 2.7 - <a class="reference external" href="http://python.org">http://python.org</a></li>
<li>numpy - <a class="reference external" href="http://numpy.org">http://numpy.org</a></li>
</ul>
<p>And you&#8217;re going to need the optional dependencies so you can run all the
regression tests:</p>
<ul class="simple">
<li>cairo, pango, pangocairo - typically installed using pygtk - <a class="reference external" href="http://www.pygtk.org">http://www.pygtk.org</a></li>
</ul>
<p>Lastly, you&#8217;ll need to install the tools required for Toyplot&#8217;s build, testing,
coverage, and documentation:</p>
<ul class="simple">
<li>setuptools - <a class="reference external" href="http://pythonhosted.org//setuptools">http://pythonhosted.org//setuptools</a></li>
<li>nose - unit test framework - <a class="reference external" href="https://nose.readthedocs.org/en/latest/">https://nose.readthedocs.org/en/latest/</a></li>
<li>coverage - code coverage module - <a class="reference external" href="http://nedbatchelder.com/code/coverage/">http://nedbatchelder.com/code/coverage/</a></li>
<li>Sphinx - documentation builder - <a class="reference external" href="http://sphinx-doc.org">http://sphinx-doc.org</a></li>
<li>Sphinx readthedocs theme - <a class="reference external" href="https://github.com/snide/sphinx_rtd_theme">https://github.com/snide/sphinx_rtd_theme</a></li>
<li>numpydocs - <a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt</a></li>
<li>IPython - <a class="reference external" href="http://ipython.org">http://ipython.org</a></li>
</ul>
<p>Now, you&#8217;re ready to &#8220;install&#8221; Toyplot - but as a convenience, you&#8217;ll want to use
&#8220;develop mode&#8221;.  Develop mode is a a feature provided by setuptools that links
the Toyplot source code to the install directory instead of copying it ... that way
you can edit the source code in your git sandbox, and you don&#8217;t have to re-install
it to test your changes:</p>
<div class="highlight-python"><div class="highlight"><pre>$ git clone https://github.com/sandialabs/toyplot.git
$ cd toyplot
$ python setup.py develop
</pre></div>
</div>
</div>
<div class="section" id="code-walkthrough">
<h2>Code Walkthrough<a class="headerlink" href="#code-walkthrough" title="Permalink to this headline">¶</a></h2>
<p>Most of toyplot&#8217;s public API is located in <cite>toyplot/__init__.py</cite>, for most
contributations, that&#8217;s where you&#8217;ll start.  If you&#8217;re adding a new type of
visualization, you&#8217;ll need to create a new <a class="reference internal" href="toyplot.html#toyplot.Mark" title="toyplot.Mark"><tt class="xref py py-class docutils literal"><span class="pre">toyplot.Mark</span></tt></a> derivative
there.  Then, you&#8217;ll create factory methods for creating instances of your
new mark in <a class="reference internal" href="toyplot.html#toyplot.Axes2D" title="toyplot.Axes2D"><tt class="xref py py-class docutils literal"><span class="pre">toyplot.Axes2D</span></tt></a> and/or <a class="reference internal" href="toyplot.html#toyplot.Canvas" title="toyplot.Canvas"><tt class="xref py py-class docutils literal"><span class="pre">toyplot.Canvas</span></tt></a>.  Once
you&#8217;ve done that, you&#8217;ll need to write code for rendering your new mark
in <cite>toyplot/svg.py</cite>.  Then you&#8217;re done ... all of the other backends render
based on the SVG representation.</p>
</div>
<div class="section" id="running-regression-tests">
<h2>Running Regression Tests<a class="headerlink" href="#running-regression-tests" title="Permalink to this headline">¶</a></h2>
<p>To run the Toyplot test suite, simply run nose from the top-level Toyplot
source directory:</p>
<div class="highlight-python"><div class="highlight"><pre>$ cd toyplot
$ nosetests
</pre></div>
</div>
<p>The tests will run, providing feedback on successes / failures.</p>
</div>
<div class="section" id="modifying-regression-tests">
<h2>Modifying Regression Tests<a class="headerlink" href="#modifying-regression-tests" title="Permalink to this headline">¶</a></h2>
<p>To add new tests or modify existing tests, edit <cite>tests/tests.py</cite>.</p>
<p>Many of the tests function by comparing the SVG representation of a
<a class="reference internal" href="toyplot.html#toyplot.Canvas" title="toyplot.Canvas"><tt class="xref py py-class docutils literal"><span class="pre">toyplot.Canvas</span></tt></a> against a reference stored in <cite>tests/reference</cite>.  These
tests all end with a call to <cite>assert_canvas_matches(canvas, &#8220;test-name&#8221;)</cite>,
which compares the canvas to the file <cite>tests/reference/test-name.svg</cite>.  The
first time to you run a new test that uses <tt class="xref py py-func docutils literal"><span class="pre">assert_canvas_matches()</span></tt>, it
will generate and store the new reference file, then fail, prompting you to
examine the reference file to ensure that it&#8217;s correct.  The next time you run
the test, it will function normally, comparing the canvas against the reference
file.</p>
<p>If you make changes that cause an existing test to fail, the failed SVG will
be written to <cite>tests/failed/test-name.svg</cite>, so you can compare it against the
reference SVG in <cite>tests/reference/test-name.svg</cite>.</p>
</div>
<div class="section" id="test-coverage">
<h2>Test Coverage<a class="headerlink" href="#test-coverage" title="Permalink to this headline">¶</a></h2>
<p>When you run the test suite with nose, it also automatically generates code
coverage statistics.  To see the coverage results, open <cite>toyplot/.cover/index.html</cite>
in a web browser.</p>
</div>
<div class="section" id="building-the-documentation">
<h2>Building the Documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this headline">¶</a></h2>
<p>To build the documentation, run:</p>
<div class="highlight-python"><div class="highlight"><pre>$ cd toyplot
$ python docs/setup.py
</pre></div>
</div>
<p>Note that the tutorial documentation is written as an IPython notebook, so the
docs/setup.py script requires IPython so it can convert the notebook into a
restructured text file for inclusion with the rest of the documentation.</p>
<p>Once the documentation is built, you can view it by opening <cite>toyplot/docs/_build/html/index.html</cite>
in a web browser.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="reference.html" class="btn btn-neutral float-right" title="The Toyplot Reference"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial.html" class="btn btn-neutral" title="The Toyplot Tutorial"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Sandia Corporation. Under the terms of Contract
DE-AC04-94AL85000 with Sandia Corporation, the U.S. Government retains certain
rights in this software.  SAND2014-15494W.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>